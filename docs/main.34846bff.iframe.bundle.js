(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{463:function(module,exports,__webpack_require__){__webpack_require__(464),__webpack_require__(618),__webpack_require__(619),__webpack_require__(829),__webpack_require__(830),__webpack_require__(834),__webpack_require__(835),__webpack_require__(833),__webpack_require__(831),__webpack_require__(836),__webpack_require__(837),module.exports=__webpack_require__(823)},531:function(module,exports){},619:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(327)},823:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(327).configure)([__webpack_require__(824),__webpack_require__(825)],module,!1)}).call(this,__webpack_require__(186)(module))},824:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=824},825:function(module,exports,__webpack_require__){var map={"./VirtualizedList.stories.tsx":832};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=825},832:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FixedItemHeight",(function(){return VirtualizedList_stories_FixedItemHeight}));__webpack_require__(13),__webpack_require__(101),__webpack_require__(34),__webpack_require__(8),__webpack_require__(16),__webpack_require__(25),__webpack_require__(29);var react=__webpack_require__(0);__webpack_require__(826),__webpack_require__(827),__webpack_require__(39),__webpack_require__(17),__webpack_require__(106),__webpack_require__(41),__webpack_require__(47),__webpack_require__(62),__webpack_require__(9),__webpack_require__(51),__webpack_require__(417);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var ShadowListItem=function ShadowListItem(height,offset,index){_classCallCheck(this,ShadowListItem),this.height=height,this.offset=offset,this.index=index},ShadowList=function(){function ShadowList(params){var _this=this;_classCallCheck(this,ShadowList),this.items=void 0,this.itemHeight=void 0,this.height=void 0,this.visibleItems=[],this.viewportHeight=void 0,this.viewportPadding=void 0,this.itemHeight=params.itemHeight,this.items=Array.from({length:params.itemCount}).map((function(_,index){return new ShadowListItem(_this.itemHeight,0,index)})),this.viewportHeight=params.viewportHeight,this.viewportPadding=params.viewportPadding||0,this.calculateItemOffset(),this.calculateHeight(),this.moveViewportOffsetTop(0)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ShadowList,[{key:"setItemCount",value:function setItemCount(itemCount){var _this2=this;if(itemCount!==this.items.length){if(itemCount>this.items.length){var lastIndex=this.items.length-1;Array.from({length:itemCount-this.items.length}).reduce((function(previousItem){var item=new ShadowListItem(_this2.itemHeight,previousItem.offset+_this2.itemHeight,previousItem.index+1);return _this2.items.push(item),item}),this.items[this.items.length-1]),this.calculateItemOffset(lastIndex)}else this.items.length=itemCount;this.calculateHeight(),this.moveViewportOffsetTop(this.visibleItems[0].offset)}}},{key:"setItemHeight",value:function setItemHeight(height){var _this3=this;this.itemHeight=height,this.items[0].height=this.itemHeight,this.items.reduce((function(previousItem,currentItem){return currentItem.height=_this3.itemHeight,currentItem.offset=previousItem.offset+previousItem.height,currentItem})),this.calculateHeight(),this.moveViewportOffsetTop(this.visibleItems[0].offset)}},{key:"setViewportHeight",value:function setViewportHeight(height){this.viewportHeight=height,this.moveViewportOffsetTop(this.visibleItems[0].offset)}},{key:"setViewportPadding",value:function setViewportPadding(padding){this.viewportPadding=padding,this.moveViewportOffsetTop(this.visibleItems[0].offset)}},{key:"moveViewportOffsetTop",value:function moveViewportOffsetTop(offset){if(0!==this.items.length){offset<0?offset=0:offset>this.height&&(offset=this.height);var startIndex=this.searchIndex(offset-this.viewportPadding),endIndex=this.searchIndex(offset+this.viewportHeight+this.viewportPadding);this.visibleItems=[];for(var _index=startIndex;_index<=endIndex;_index++)this.visibleItems.push(Object.assign({},this.items[_index]))}}},{key:"searchIndex",value:function searchIndex(offset){offset<0?offset=0:offset>this.height&&(offset=this.height);for(var left=0,right=this.items.length;left<=right;){var mid=Math.floor((left+right)/2),item=this.items[mid];if(left===right&&!(offset>=item.offset&&offset<=item.offset+item.height))break;if(offset<item.offset)right=mid;else{if(!(offset>item.offset+item.height))return mid;left=mid}}return-1}},{key:"calculateItemOffset",value:function calculateItemOffset(){for(var startIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=startIndex+1;i<this.items.length;i++){var previousItem=this.items[i-1];this.items[i].offset=previousItem.offset+previousItem.height}}},{key:"calculateHeight",value:function calculateHeight(){this.height=this.items.reduce((function(height,item){return height+item.height}),0)}}]),ShadowList}();__webpack_require__(14);function VirtualizedListItem(props){var shadowListItem=props.shadowListItem,onRenderItem=props.onRenderItem;return Object(react.createElement)("div",{key:"".concat(shadowListItem.index,"/").concat(shadowListItem.offset),style:{position:"absolute",transform:"translate(0, ".concat(shadowListItem.offset,"px)"),width:"100%",height:shadowListItem.height}},onRenderItem(shadowListItem))}try{VirtualizedListItem.displayName="VirtualizedListItem",VirtualizedListItem.__docgenInfo={description:"",displayName:"VirtualizedListItem",props:{shadowListItem:{defaultValue:null,description:"",name:"shadowListItem",required:!0,type:{name:"ShadowListItem"}},onRenderItem:{defaultValue:null,description:"",name:"onRenderItem",required:!0,type:{name:"RenderFunction"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/VirtualizedListItem.tsx#VirtualizedListItem"]={docgenInfo:VirtualizedListItem.__docgenInfo,name:"VirtualizedListItem",path:"src/VirtualizedListItem.tsx#VirtualizedListItem"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getScrollTop(element){return element===document?(element.scrollingElement||element.documentElement).scrollTop:element.scrollTop}function VirtualizedList(props){var height=props.height,itemCount=props.itemCount,itemHeight=props.itemHeight,viewportPadding=props.viewportPadding,onRenderItem=props.onRenderItem,updateState=_slicedToArray(Object(react.useState)(),2)[1],forceUpdate=Object(react.useCallback)((function(){return updateState((function(state){return 0===state?1:0}))}),[]),_useState4=_slicedToArray(Object(react.useState)({scrollTop:0,scrolling:!1,scrollDirection:null}),2),scrollState=_useState4[0],setScrollState=_useState4[1],shadowList=Object(react.useMemo)((function(){return new ShadowList({itemCount:itemCount,itemHeight:itemHeight,viewportHeight:0,viewportPadding:viewportPadding})}),[]),containerElement=Object(react.useRef)(null),containerElementRectY=Object(react.useRef)(0),scrollElement=Object(react.useRef)(null),scrollEndTimeoutId=Object(react.useRef)(null);function handleScroll(){var previousScrollTop=scrollState.scrollTop,currentScrollTop=getScrollTop(scrollElement.current);currentScrollTop!==previousScrollTop&&(setScrollState({scrollTop:currentScrollTop,scrolling:!0,scrollDirection:currentScrollTop>=previousScrollTop?"top":"bottom"}),window.clearTimeout(scrollEndTimeoutId.current),scrollEndTimeoutId.current=window.setTimeout(handleScrollEnd,150))}function handleScrollEnd(){setScrollState({scrollTop:getScrollTop(scrollElement.current),scrolling:!1,scrollDirection:null})}return Object(react.useEffect)((function(){shadowList.setItemCount(itemCount),forceUpdate()}),[itemCount]),Object(react.useEffect)((function(){itemHeight&&(shadowList.setItemHeight(itemHeight),forceUpdate())}),[itemHeight]),Object(react.useEffect)((function(){shadowList.setViewportPadding(viewportPadding),forceUpdate()}),[viewportPadding]),Object(react.useEffect)((function(){if("auto"===height){var element=function getScrollContainer(element){if(!element||"BODY"===element.tagName)return document;var _window$getComputedSt=window.getComputedStyle(element),overflow=_window$getComputedSt.overflow,overflowY=_window$getComputedSt.overflowY;return/(auto|scroll)/.test(overflow+overflowY)?element:getScrollContainer(element.parentElement)}(scrollElement.current);element!==scrollElement.current&&(scrollElement.current=element),containerElementRectY.current=getScrollTop(scrollElement.current)+containerElement.current.getBoundingClientRect().y,shadowList.setViewportHeight(scrollElement.current===document?document.documentElement.clientHeight:scrollElement.current.clientHeight)}else scrollElement.current=containerElement.current,shadowList.setViewportHeight(height);return forceUpdate(),scrollElement.current.addEventListener("scroll",handleScroll),function(){var _scrollElement$curren;null===(_scrollElement$curren=scrollElement.current)||void 0===_scrollElement$curren||_scrollElement$curren.removeEventListener("scroll",handleScroll)}}),[height]),Object(react.createElement)("div",{ref:containerElement,style:{width:"auto",height:height,overflowX:"hidden",overflowY:"auto",position:"relative"}},Object(react.createElement)("div",{style:{width:"auto",height:shadowList.height,maxHeight:shadowList.height,overflow:"hidden",position:"relative"}},function renderItems(){var scrollTop=scrollState.scrollTop;return shadowList.moveViewportOffsetTop(scrollTop-containerElementRectY.current),shadowList.visibleItems.map((function(shadowListItem){return Object(react.createElement)(VirtualizedListItem,{shadowListItem:shadowListItem,onRenderItem:onRenderItem})}))}()))}try{VirtualizedList.displayName="VirtualizedList",VirtualizedList.__docgenInfo={description:"",displayName:"VirtualizedList",props:{height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:'number | "auto"'}},itemCount:{defaultValue:null,description:"",name:"itemCount",required:!0,type:{name:"number"}},onRenderItem:{defaultValue:null,description:"",name:"onRenderItem",required:!0,type:{name:"RenderFunction"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},viewportPadding:{defaultValue:null,description:"",name:"viewportPadding",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/VirtualizedList.tsx#VirtualizedList"]={docgenInfo:VirtualizedList.__docgenInfo,name:"VirtualizedList",path:"src/VirtualizedList.tsx#VirtualizedList"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__(158);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var generateRandomColor=function generateRandomColor(){for(var color="#",i=0;i<6;i++)color+="0123456789ABCDEF"[Math.floor(16*Math.random())];return color},VirtualizedList_stories_FixedItemHeight=(__webpack_exports__.default={title:"VirtualizedList",component:VirtualizedList},function FixedItemHeight(args){var itemCount=args.itemCount,rest=_objectWithoutProperties(args,["itemCount"]),data=Object(react.useMemo)((function(){return Array.from({length:itemCount}).map(generateRandomColor)}),[itemCount]);return Object(jsx_runtime.jsx)(VirtualizedList,Object.assign({},rest,{itemCount:data.length,onRenderItem:function onRenderItem(item){return Object(jsx_runtime.jsxs)("div",{style:{boxSizing:"border-box",height:"100%",fontSize:"30px",color:data[item.index],lineHeight:"".concat(item.height,"px"),textAlign:"center",borderBottom:"1px solid #eeeeee"},children:["Index: ",Object(jsx_runtime.jsx)("b",{children:item.index+1})]})}}))});VirtualizedList_stories_FixedItemHeight.displayName="FixedItemHeight",VirtualizedList_stories_FixedItemHeight.args={height:500,itemHeight:50,itemCount:5e4,viewportPadding:100},VirtualizedList_stories_FixedItemHeight.parameters=Object.assign({storySource:{source:"(args: any): React.ReactNode => {\n  const { itemCount, ...rest } = args;\n  const data = useMemo(\n    () => Array.from({ length: itemCount }).map(generateRandomColor),\n    [itemCount],\n  );\n\n  return (\n    <VirtualizedList\n      {...rest}\n      itemCount={data.length}\n      onRenderItem={(item) => {\n        return (\n          <div\n            style={{\n              boxSizing: 'border-box',\n              height: '100%',\n              fontSize: '30px',\n              color: data[item.index],\n              lineHeight: `${item.height}px`,\n              textAlign: 'center',\n              borderBottom: '1px solid #eeeeee',\n            }}\n          >\n            Index: <b>{item.index + 1}</b>\n          </div>\n        );\n      }}\n    />\n  );\n}"}},VirtualizedList_stories_FixedItemHeight.parameters);try{VirtualizedList_stories_FixedItemHeight.displayName="FixedItemHeight",VirtualizedList_stories_FixedItemHeight.__docgenInfo={description:"",displayName:"FixedItemHeight",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/VirtualizedList.stories.tsx#FixedItemHeight"]={docgenInfo:VirtualizedList_stories_FixedItemHeight.__docgenInfo,name:"FixedItemHeight",path:"src/VirtualizedList.stories.tsx#FixedItemHeight"})}catch(__react_docgen_typescript_loader_error){}},837:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(16),__webpack_require__(29),__webpack_require__(44),__webpack_require__(820),__webpack_require__(35),__webpack_require__(36),__webpack_require__(821),__webpack_require__(822),__webpack_require__(417);var client_api=__webpack_require__(842),esm=__webpack_require__(5),parameters={actions:{argTypesRegex:"^on[A-Z].*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.b)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.c)(loader,!1)}));case"parameters":return Object(client_api.d)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.d)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[463,2,3]]]);